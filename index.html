<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Sturgeon Tire Bargain Bin</title>
  <style>
    :root{--primary:#2e6fa3;--dark:#182742;--bg:#f0f8ff;--accent:#ffa726}
    body{margin:0;font-family:'Segoe UI',sans-serif;background:var(--bg)}
    .container{max-width:1200px;margin:0 auto;padding:0}
    .header{background:linear-gradient(135deg,var(--primary) 0%,#1e4f72 100%);color:#fff;padding:20px;text-align:center;box-shadow:0 4px 20px rgba(0,0,0,0.1);margin-bottom:0}
    .header h1{margin:0;font-size:1.8rem;font-weight:700;display:flex;align-items:center;justify-content:center;gap:14px;margin-bottom:6px}
    .company-logo {height: 44px;filter: drop-shadow(0 0 3px white); /* adds subtle outline glow */}
    .update-time{font-size:0.8rem;opacity:0.8;font-weight:400}
    .stats{display:flex;flex-wrap:wrap;justify-content:center;gap:28px;padding:18px;background:#fff;margin:16px;border-radius:12px;box-shadow:0 2px 12px rgba(0,0,0,0.06)}
    .stats div{text-align:center;min-width:100px}
    .stats .num{font-size:2rem;font-weight:800;color:var(--primary);margin-bottom:4px;line-height:1}
    .stats .label{font-size:0.8rem;color:#555;font-weight:600;text-transform:uppercase;letter-spacing:0.5px}
    .filters{display:flex;flex-wrap:wrap;gap:24px;justify-content:center;align-items:center;margin:20px auto;padding:28px;background:#fff;border-radius:16px;box-shadow:0 2px 12px rgba(0,0,0,0.06);max-width:1000px;box-sizing:border-box}
    .filter-group{position:relative;display:flex;align-items:center;min-width:220px}
    .filter-label{position:absolute;left:16px;top:-8px;background:#fff;padding:0 8px;font-size:13px;color:#495057;font-weight:600;z-index:1}
    .filters select{width:100%;padding:14px 20px;border-radius:12px;border:1.5px solid #e1e5e9;background:#fff;font-size:15px;transition:all 0.2s;font-weight:500;cursor:pointer;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'%3E%3Cpath fill='%236c757d' d='M6 8L0 0h12z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 20px center;padding-right:48px}
    .filters select:hover{border-color:#c1c7ce}
    .filters select:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px rgba(46,111,163,0.08)}
    .search-container{flex:1;min-width:320px;max-width:500px;position:relative}
    .search-label{position:absolute;left:16px;top:-8px;background:#fff;padding:0 8px;font-size:13px;color:#495057;font-weight:600;z-index:1}
    .search-container input{width:100%;padding:14px 20px;border:1.5px solid #e1e5e9;border-radius:12px;font-size:16px;transition:all 0.2s;font-weight:500;background:#fff}
    .search-container input::placeholder{color:#9ca3af;font-weight:400}
    .search-container input:hover{border-color:#c1c7ce}
    .search-container input:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px rgba(46,111,163,0.08)}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(340px,1fr));gap:20px;padding:20px 16px;max-width:1200px;margin:0 auto}
    .card{background:#fff;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.1);position:relative;overflow:hidden;transition:all 0.3s ease}
    .card:hover{transform:translateY(-4px);box-shadow:0 8px 25px rgba(0,0,0,0.15)}
    .badge{position:absolute;top:8px;right:8px;padding:6px 10px;border-radius:6px;color:#fff;font-size:0.75rem;font-weight:600;z-index:2}
    .badge-sale{background:var(--accent)}.badge-good{background:var(--primary)}.badge-great{background:#ffb300}.badge-huge{background:#ff6d00}.badge-free{background:var(--dark)}
    .content{padding:16px}
    .logo{height:48px;width:auto;max-width:120px;object-fit:contain;margin-bottom:8px}
    .title{font-size:1.1rem;font-weight:bold;color:var(--dark);margin-bottom:8px;line-height:1.3}
    .details{font-size:0.85rem;color:#666;margin-bottom:12px;line-height:1.4}
    .pricing{margin-bottom:8px}
    .sale-price{color:#27ae60;font-weight:bold;font-size:1.2rem}
    .orig-price{text-decoration:line-through;color:#999;margin-left:8px;font-size:0.9rem}
    .free-price{color:var(--dark);font-weight:bold;font-size:1.2rem}
    .save{color:#e74c3c;font-size:0.9rem;margin-bottom:8px;font-weight:500}
    .stock{font-size:0.8rem;padding:4px 8px;border-radius:4px;display:inline-block;margin-bottom:12px;font-weight:500}
    .stock-low{background:#fdecea;color:#c0392b}.stock-medium{background:#fff8e1;color:#f57c00}.stock-good{background:#e8f5e9;color:#2e7d32}.stock-excellent{background:#e3f2fd;color:#1565c0}
    .btn-add-quote{background:#27ae60;color:white;border:none;padding:12px 16px;border-radius:6px;cursor:pointer;font-weight:bold;font-size:14px;width:100%;transition:background 0.2s}
    .btn-add-quote:hover{background:#229954}
    .quote-counter{position:fixed;top:20px;right:20px;background:#e74c3c;color:white;padding:16px 20px;border-radius:25px;cursor:pointer;font-weight:bold;display:none;z-index:1000;box-shadow:0 4px 15px rgba(231,76,60,0.3);transition:all 0.3s ease;font-size:16px;min-width:120px;text-align:center}
    .quote-counter:hover{background:#c0392b;transform:translateY(-2px);box-shadow:0 6px 20px rgba(231,76,60,0.4)}
    .quote-counter.pulse{animation:pulse 0.6s ease-out}
    .quote-cta{font-size:12px;opacity:0.9;margin-top:4px;font-weight:normal}
    @keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.1)}100%{transform:scale(1)}}
    .quantity-controls{display:flex;align-items:center;gap:4px;background:#f8f9fa;border-radius:8px;padding:4px}
    .qty-btn{width:32px;height:32px;border:none;background:#007bff;color:white;border-radius:6px;cursor:pointer;font-weight:bold;font-size:18px;display:flex;align-items:center;justify-content:center;transition:all 0.2s;line-height:1}
    .qty-btn:hover{background:#0056b3;transform:scale(1.05)}
    .qty-btn:active{transform:scale(0.95)}
    .qty-input{width:50px;height:32px;border:1px solid #ddd;border-radius:4px;text-align:center;font-weight:bold;margin:0;font-size:14px}
    .qty-stock{font-size:12px;color:#666;margin-left:4px;display:flex;align-items:center;font-weight:normal;line-height:32px}
    .notification{position:fixed;top:120px;right:20px;background:linear-gradient(135deg,#27ae60,#2ecc71);color:white;padding:12px 20px;border-radius:8px;z-index:3000;font-weight:500;box-shadow:0 4px 20px rgba(39,174,96,0.3);transform:translateX(400px);transition:all 0.4s cubic-bezier(0.68,-0.55,0.265,1.55);max-width:280px}
    .success-notification{background:linear-gradient(135deg,#3498db,#2980b9);padding:20px 25px;border-radius:12px;box-shadow:0 8px 32px rgba(52,152,219,0.4);position:relative;overflow:hidden}
    .success-notification::before{content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:repeating-linear-gradient(45deg,transparent,transparent 10px,rgba(255,255,255,0.1) 10px,rgba(255,255,255,0.1) 20px);animation:confetti 2s linear infinite}
    @keyframes confetti{0%{transform:translateX(-100%)}100%{transform:translateX(100%)}}
    .quote-modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);z-index:2000}
    .quote-modal-content{background:white;margin:5% auto;padding:20px;width:90%;max-width:600px;border-radius:8px;max-height:80vh;overflow-y:auto;-webkit-overflow-scrolling:touch;display:flex;flex-direction:column}
    .quote-item{display:flex;justify-content:space-between;align-items:flex-start;padding:12px 0;border-bottom:1px solid #eee;gap:12px}
    .quote-item-info{flex:1;min-width:0}
    .quote-item-controls{flex-shrink:0}
    .quote-form{margin-top:20px;padding-top:20px;border-top:2px solid #eee}
    .quote-form input,.quote-form textarea{width:100%;padding:12px;margin-bottom:10px;border:1px solid #ddd;border-radius:4px;box-sizing:border-box;font-size:16px}
    input,textarea,select{font-size:16px !important}
    .submit-quote{background:#27ae60;color:white;border:none;padding:12px 24px;border-radius:6px;cursor:pointer;font-weight:bold;width:100%}
    .close-modal{float:right;font-size:28px;font-weight:bold;cursor:pointer;color:#aaa}
    .remove-item{background:#e74c3c;color:white;border:none;padding:4px 8px;border-radius:4px;cursor:pointer;font-size:12px}
    .footer{text-align:center;padding:20px;background:#fff;margin:16px;border-radius:12px;box-shadow:0 2px 10px rgba(0,0,0,0.05)}
    .footer a{margin:0 15px;color:var(--primary);text-decoration:none;font-weight:bold;padding:10px 20px;border:2px solid var(--primary);border-radius:8px;transition:all 0.2s}
    .footer a:hover{background:var(--primary);color:white}
    @media (max-width:768px){
      .grid{grid-template-columns:1fr;padding:16px}
      .header h1{flex-direction:column;font-size:1.8rem;gap:12px}
      .quote-counter{right:16px;font-size:14px;padding:12px 16px}
      .filters{margin:20px;padding:24px;flex-direction:column;align-items:stretch;gap:24px}
      .search-container{min-width:unset;max-width:unset;width:100%;box-sizing:border-box}
      .search-container input{box-sizing:border-box}
      .filter-group{width:100%;min-width:unset;box-sizing:border-box}
      .filters select{box-sizing:border-box}
      .stats{margin:16px;gap:20px;padding:20px}
      .stats .num{font-size:2rem}
      .stats .label{font-size:0.8rem}
    }
    @media (max-width: 768px) {
  .container{               /* your existing wrapper */
    padding-left: 12px;     /* 12-16 px feels like a native-app gutter   */
    padding-right: 12px;    /* keeps the iframe / cards off the screen edge */
  }
}

  @media (max-width:768px){
      .quote-modal-content{
        width: calc(100% - 24px);
        margin: 5% auto;
        box-sizing:border-box;
        padding:12px;
      }
      .quote-item{flex-direction:column;align-items:stretch;gap:8px;padding:10px 0}
      .quote-item-info{font-size:15px;flex:1;min-width:0;margin-bottom:8px}
      .quote-item-controls{flex-shrink:0;display:flex;justify-content:space-between;align-items:center}
      .quantity-controls{background:#f8f9fa;padding:4px;gap:3px;border-radius:6px}
      .qty-btn{width:30px;height:30px;font-size:16px}
      .qty-input{width:45px;height:30px;font-size:14px}
      .qty-stock{font-size:12px;line-height:30px;margin-left:6px}
      .remove-item{padding:4px 8px;font-size:11px}
    }
  

  #quote-items{
  flex:1 1 auto;
  overflow-y:auto;
  padding-right:4px;
  -webkit-overflow-scrolling:touch;
  min-height:0;
  }
  
  .quote-form{
    flex:0 0 auto;            /* form stays at the bottom                   */
    padding-bottom:8px;
    background:#fff;          /* white strip so it isn’t floating           */
    box-shadow:0 -2px 6px rgba(0,0,0,.08);
  }
  .submit-quote{              /* full-width CTA bar                        */
    position:sticky;          /* sticks within the modal, not the viewport */
    bottom:0;
    width:100%;
    border-radius:0;          /* square edges look like a native footer     */
  }
    /* keep minus / input / plus vertically centred */
  .quantity-controls{
    align-items:center;
  }
  
    body.modal-open{
    overflow:hidden;   /* body can’t scroll, modal can            */
  }
  </style>
  <!-- Confetti library -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1><img src="Logo.png" alt="Sturgeon Tire" class="company-logo" onerror="this.style.display='none'">Sturgeon Tire Bargain Bin</h1>
      <div class="update-time">Updated: 2025-05-30, 11:28 a.m.</div>
    </div>
    
    <div class="stats">
      <div><div class="num">63</div><div class="label">Deals</div></div>
      <div><div class="num">0</div><div class="label">50%+ Off</div></div>
      <div><div class="num">$42</div><div class="label">Avg Savings</div></div>
    </div>
    
    <div class="filters">
      <div class="search-container">
        <span class="search-label">Search</span>
        <input type="text" id="search-bar" placeholder="Brand, model, size, winter, or item...">
      </div>
      <div class="filter-group">
        <span class="filter-label">Manufacturer</span>
        <select id="filter-manufacturer">
          <option value="">All Manufacturers</option>
          <option value="BOTO">BOTO</option><option value="CONTINENTAL">CONTINENTAL</option><option value="DELIUM">DELIUM</option><option value="FORERUNNER">FORERUNNER</option><option value="GENERAL">GENERAL</option><option value="HANKOOK">HANKOOK</option><option value="MICHELIN">MICHELIN</option><option value="Yokohama">Yokohama</option>
        </select>
      </div>
    </div>
    
    <div class="grid" id="card-container"></div>
    
    <div class="footer"><a href="tel:+12049854040">Call (204) 985-4040</a><a href="mailto:nileshn@sturgeontire.com">Get Quote</a></div>
  </div>
  
  <div class="quote-counter" id="quote-counter" onclick="openQuoteModal()">
    <div>Quote (<span id="quote-count">0</span>)</div>
    <div class="quote-cta">Click to Review →</div>
  </div>
  
  <div class="quote-modal" id="quote-modal">
    <div class="quote-modal-content">
      <span class="close-modal" onclick="closeQuoteModal()">&times;</span>
      <h2>Request Quote</h2>
      <div id="quote-items"></div>
      <div class="quote-form">
        <input type="text" id="customer-name" placeholder="Your Name *" required>
        <input type="email" id="customer-email" placeholder="Email *" required>
        <input type="tel" id="customer-phone" placeholder="Phone">
        <input type="text" id="customer-company" placeholder="Company">
        <textarea id="customer-notes" placeholder="Notes..."></textarea>
        <button class="submit-quote" onclick="submitQuote()">Request Quote</button>
      </div>
    </div>
  </div>
  
  <script>
    var items = [{"manufacturer":"HANKOOK","logo":"https://upload.wikimedia.org/wikipedia/commons/thumb/c/cd/Hankook_Logo_2024.svg/2560px-Hankook_Logo_2024.svg.png","model":"DL12","item":"3002335","tireSize":"11R22.5 14PR","sizeStripped":"1122514","tireType":"Medium Truck","isWinterTire":false,"disc":49,"sale":285,"reg":556,"save":271,"stock":4},{"manufacturer":"MICHELIN","logo":"https://michelinmedia.com/site/user/images/Michelin_Corporate_Logo___color.jpg","model":"XDN2","item":"72805","tireSize":"11R22.5","sizeStripped":"11225","tireType":"Medium Truck","isWinterTire":false,"disc":37,"sale":493,"reg":781,"save":288,"stock":6},{"manufacturer":"MICHELIN","logo":"https://michelinmedia.com/site/user/images/Michelin_Corporate_Logo___color.jpg","model":"XTE","item":"21307","tireSize":"11R22.5","sizeStripped":"11225","tireType":"Medium Truck","isWinterTire":false,"disc":37,"sale":430,"reg":680,"save":250,"stock":15},{"manufacturer":"Yokohama","logo":"https://cdn.worldvectorlogo.com/logos/yokohama-logo.svg","model":"GEOLANDAR X-AT","item":"110116024","tireSize":"LT305/55R20","sizeStripped":"3055520","tireType":"Light Truck","isWinterTire":false,"disc":33,"sale":327,"reg":489,"save":162,"stock":4},{"manufacturer":"BOTO","logo":"https://be.fitandfix.com/media/brands/1681305666170.png","model":"GCB3","item":"B101012","tireSize":"14.00R24","sizeStripped":"140024","tireType":"O.T.R.","isWinterTire":false,"disc":27,"sale":1229,"reg":1674,"save":445,"stock":7},{"manufacturer":"Yokohama","logo":"https://cdn.worldvectorlogo.com/logos/yokohama-logo.svg","model":"GEOLANDAR X-AT","item":"110116035","tireSize":"33X12.50R20","sizeStripped":"33125020","tireType":"Passenger","isWinterTire":false,"disc":24,"sale":352,"reg":462,"save":110,"stock":4},{"manufacturer":"Yokohama","logo":"https://cdn.worldvectorlogo.com/logos/yokohama-logo.svg","model":"GEOLANDAR X-CV","item":"110157001","tireSize":"255/55R18","sizeStripped":"2555518","tireType":"Passenger","isWinterTire":false,"disc":24,"sale":196,"reg":257,"save":61,"stock":1},{"manufacturer":"Yokohama","logo":"https://cdn.worldvectorlogo.com/logos/yokohama-logo.svg","model":"GEOLANDAR X-AT","item":"110116036","tireSize":"35X12.50R20","sizeStripped":"35125020","tireType":"Passenger","isWinterTire":false,"disc":24,"sale":373,"reg":492,"save":119,"stock":5},{"manufacturer":"Yokohama","logo":"https://cdn.worldvectorlogo.com/logos/yokohama-logo.svg","model":"AVID ASCEND LX","item":"110132810","tireSize":"205/60R16","sizeStripped":"2056016","tireType":"Passenger","isWinterTire":false,"disc":23,"sale":115,"reg":148,"save":33,"stock":1},{"manufacturer":"Yokohama","logo":"https://cdn.worldvectorlogo.com/logos/yokohama-logo.svg","model":"AVID ASCEND LX","item":"110132811","tireSize":"205/65R16","sizeStripped":"2056516","tireType":"Passenger","isWinterTire":false,"disc":23,"sale":115,"reg":150,"save":35,"stock":1},{"manufacturer":"Yokohama","logo":"https://cdn.worldvectorlogo.com/logos/yokohama-logo.svg","model":"AVID ASCEND LX","item":"110132831","tireSize":"235/60R17","sizeStripped":"2356017","tireType":"Passenger","isWinterTire":false,"disc":23,"sale":149,"reg":194,"save":45,"stock":2},{"manufacturer":"Yokohama","logo":"https://cdn.worldvectorlogo.com/logos/yokohama-logo.svg","model":"ICEGUARD IG53","item":"110115345","tireSize":"225/45R18","sizeStripped":"2254518","tireType":"Passenger - Winter","isWinterTire":true,"disc":22,"sale":165,"reg":211,"save":46,"stock":25},{"manufacturer":"BOTO","logo":"https://be.fitandfix.com/media/brands/1681305666170.png","model":"BT556","item":"B312135","tireSize":"11R22.5","sizeStripped":"11225","tireType":"Medium Truck","isWinterTire":false,"disc":22,"sale":259,"reg":331,"save":72,"stock":44},{"manufacturer":"Yokohama","logo":"https://cdn.worldvectorlogo.com/logos/yokohama-logo.svg","model":"GEOLANDAR X-AT","item":"110116034","tireSize":"33X12.50R18","sizeStripped":"33125018","tireType":"Passenger","isWinterTire":false,"disc":20,"sale":338,"reg":425,"save":87,"stock":8},{"manufacturer":"Yokohama","logo":"https://cdn.worldvectorlogo.com/logos/yokohama-logo.svg","model":"ADVAN FLEVA","item":"110170164","tireSize":"225/35R19","sizeStripped":"2253519","tireType":"Performance","isWinterTire":false,"disc":19,"sale":211,"reg":261,"save":50,"stock":6},{"manufacturer":"FORERUNNER","logo":"https://www.atvstore.com.au/assets/webshop/cms/06/5406.png?1649739533","model":"VULCAN","item":"K846920","tireSize":"AT26X9-12","sizeStripped":"26912","tireType":"Lawn/Garden/Trailer Tires","isWinterTire":false,"disc":15,"sale":118,"reg":140,"save":22,"stock":19},{"manufacturer":"Yokohama","logo":"https://cdn.worldvectorlogo.com/logos/yokohama-logo.svg","model":"ICEGUARD IG53","item":"110115346","tireSize":"225/50R18","sizeStripped":"2255018","tireType":"Passenger - Winter","isWinterTire":true,"disc":14,"sale":186,"reg":216,"save":30,"stock":24},{"manufacturer":"Yokohama","logo":"https://cdn.worldvectorlogo.com/logos/yokohama-logo.svg","model":"GEOLANDAR H/T G056","item":"110105664","tireSize":"LT245/70R17","sizeStripped":"2457017","tireType":"Light Truck","isWinterTire":false,"disc":13,"sale":204,"reg":235,"save":31,"stock":6},{"manufacturer":"Yokohama","logo":"https://cdn.worldvectorlogo.com/logos/yokohama-logo.svg","model":"ADVAN SPORT A/S+","item":"110140617","tireSize":"225/45R17","sizeStripped":"2254517","tireType":"Passenger","isWinterTire":false,"disc":12,"sale":160,"reg":181,"save":21,"stock":8},{"manufacturer":"Yokohama","logo":"https://cdn.worldvectorlogo.com/logos/yokohama-logo.svg","model":"ADVAN SPORT A/S+","item":"110140616","tireSize":"215/55R17","sizeStripped":"2155517","tireType":"Passenger","isWinterTire":false,"disc":12,"sale":164,"reg":186,"save":22,"stock":12},{"manufacturer":"Yokohama","logo":"https://cdn.worldvectorlogo.com/logos/yokohama-logo.svg","model":"AVID ASCEND GT","item":"110132714","tireSize":"205/65R16","sizeStripped":"2056516","tireType":"Passenger","isWinterTire":false,"disc":12,"sale":127,"reg":144,"save":17,"stock":11},{"manufacturer":"Yokohama","logo":"https://cdn.worldvectorlogo.com/logos/yokohama-logo.svg","model":"GEOLANDAR CV G058","item":"110105812","tireSize":"215/65R17","sizeStripped":"2156517","tireType":"Passenger","isWinterTire":false,"disc":11,"sale":152,"reg":171,"save":19,"stock":4},{"manufacturer":"Yokohama","logo":"https://cdn.worldvectorlogo.com/logos/yokohama-logo.svg","model":"ADVAN SPORT V105","item":"110110549","tireSize":"225/40ZR19 (93Y) XL","sizeStripped":"2254019(93)","tireType":"Passenger","isWinterTire":false,"disc":11,"sale":245,"reg":275,"save":30,"stock":4},{"manufacturer":"Yokohama","logo":"https://cdn.worldvectorlogo.com/logos/yokohama-logo.svg","model":"GEOLANDAR X-AT","item":"110116006","tireSize":"LT265/70R17","sizeStripped":"2657017","tireType":"Light Truck","isWinterTire":false,"disc":10,"sale":277,"reg":309,"save":32,"stock":8},{"manufacturer":"Yokohama","logo":"https://cdn.worldvectorlogo.com/logos/yokohama-logo.svg","model":"AVID ASCEND LX","item":"110132828","tireSize":"225/60R17","sizeStripped":"2256017","tireType":"Passenger","isWinterTire":false,"disc":10,"sale":162,"reg":181,"save":19,"stock":3},{"manufacturer":"Yokohama","logo":"https://cdn.worldvectorlogo.com/logos/yokohama-logo.svg","model":"Geolandar A/T G015","item":"110101680","tireSize":"LT245/65R17","sizeStripped":"2456517","tireType":"ALL WEATHER LT","isWinterTire":false,"disc":9,"sale":250,"reg":274,"save":24,"stock":4},{"manufacturer":"Yokohama","logo":"https://cdn.worldvectorlogo.com/logos/yokohama-logo.svg","model":"Geolandar A/T G015","item":"110101625","tireSize":"31X10.50R15","sizeStripped":"31105015","tireType":"ALL WEATHER PASSENGER","isWinterTire":false,"disc":9,"sale":213,"reg":234,"save":21,"stock":4},{"manufacturer":"Yokohama","logo":"https://cdn.worldvectorlogo.com/logos/yokohama-logo.svg","model":"GEOLANDAR X-AT","item":"110116028","tireSize":"LT265/65R17","sizeStripped":"2656517","tireType":"Light Truck","isWinterTire":false,"disc":9,"sale":271,"reg":297,"save":26,"stock":5},{"manufacturer":"FORERUNNER","logo":"https://www.atvstore.com.au/assets/webshop/cms/06/5406.png?1649739533","model":"ATLAS","item":"K836840","tireSize":"AT26x8-14","sizeStripped":"26814","tireType":"Lawn/Garden/Trailer Tires","isWinterTire":false,"disc":9,"sale":102,"reg":113,"save":11,"stock":35},{"manufacturer":"Yokohama","logo":"https://cdn.worldvectorlogo.com/logos/yokohama-logo.svg","model":"Geolandar A/T G015","item":"110101641","tireSize":"LT285/70R17","sizeStripped":"2857017","tireType":"ALL WEATHER LT","isWinterTire":false,"disc":9,"sale":299,"reg":328,"save":29,"stock":10},{"manufacturer":"BOTO","logo":"https://be.fitandfix.com/media/brands/1681305666170.png","model":"BS68","item":"B821580","tireSize":"215/50R18","sizeStripped":"2155018","tireType":"Passenger - Winter","isWinterTire":true,"disc":9,"sale":109,"reg":121,"save":12,"stock":72},{"manufacturer":"DELIUM","logo":"https://deliumtires.com/cdn/shop/files/1539168771Delium_e5fe28e8-10c6-4f67-b7a9-cf496cc2151b.jpg?v=1632319242","model":"IA-207","item":"D221050","tireSize":"31X10.50R15LT","sizeStripped":"31105015","tireType":"Light Truck","isWinterTire":false,"disc":8,"sale":174,"reg":189,"save":15,"stock":2},{"manufacturer":"DELIUM","logo":"https://deliumtires.com/cdn/shop/files/1539168771Delium_e5fe28e8-10c6-4f67-b7a9-cf496cc2151b.jpg?v=1632319242","model":"IA-207","item":"D226675","tireSize":"265/65R17","sizeStripped":"2656517","tireType":"Light Truck","isWinterTire":false,"disc":8,"sale":173,"reg":188,"save":15,"stock":12},{"manufacturer":"FORERUNNER","logo":"https://www.atvstore.com.au/assets/webshop/cms/06/5406.png?1649739533","model":"VULCAN","item":"K845820","tireSize":"AT25x8-12","sizeStripped":"25812","tireType":"Lawn/Garden/Trailer Tires","isWinterTire":false,"disc":8,"sale":114,"reg":123,"save":9,"stock":12},{"manufacturer":"DELIUM","logo":"https://deliumtires.com/cdn/shop/files/1539168771Delium_e5fe28e8-10c6-4f67-b7a9-cf496cc2151b.jpg?v=1632319242","model":"IA-207","item":"D226760","tireSize":"265/70R16","sizeStripped":"2657016","tireType":"Light Truck","isWinterTire":false,"disc":8,"sale":173,"reg":188,"save":15,"stock":12},{"manufacturer":"Yokohama","logo":"https://cdn.worldvectorlogo.com/logos/yokohama-logo.svg","model":"AVID ASCEND GT","item":"110132729","tireSize":"235/60R17","sizeStripped":"2356017","tireType":"Passenger","isWinterTire":false,"disc":7,"sale":172,"reg":184,"save":12,"stock":1},{"manufacturer":"Yokohama","logo":"https://cdn.worldvectorlogo.com/logos/yokohama-logo.svg","model":"ADVAN SPORT A/S+","item":"110140671","tireSize":"285/30R20","sizeStripped":"2853020","tireType":"Passenger","isWinterTire":false,"disc":7,"sale":329,"reg":355,"save":26,"stock":2},{"manufacturer":"Yokohama","logo":"https://cdn.worldvectorlogo.com/logos/yokohama-logo.svg","model":"ADVAN SPORT A/S+","item":"110140651","tireSize":"245/35R19","sizeStripped":"2453519","tireType":"Passenger","isWinterTire":false,"disc":7,"sale":261,"reg":281,"save":20,"stock":8},{"manufacturer":"BOTO","logo":"https://be.fitandfix.com/media/brands/1681305666170.png","model":"BT957","item":"B301621","tireSize":"235/75R17.5-16","sizeStripped":"2357517516","tireType":"Medium Truck","isWinterTire":false,"disc":7,"sale":180,"reg":194,"save":14,"stock":12},{"manufacturer":"FORERUNNER","logo":"https://www.atvstore.com.au/assets/webshop/cms/06/5406.png?1649739533","model":"MIDAS","item":"K832190","tireSize":"AT22x11-9","sizeStripped":"22119","tireType":"Lawn/Garden/Trailer Tires","isWinterTire":false,"disc":7,"sale":89,"reg":95,"save":6,"stock":5},{"manufacturer":"Yokohama","logo":"https://cdn.worldvectorlogo.com/logos/yokohama-logo.svg","model":"ADVAN SPORT A/S+","item":"110140618","tireSize":"225/50R17","sizeStripped":"2255017","tireType":"Passenger","isWinterTire":false,"disc":6,"sale":179,"reg":190,"save":11,"stock":7},{"manufacturer":"CONTINENTAL","logo":"https://1000logos.net/wp-content/uploads/2022/11/Continental-Logo.png","model":"PureContact LS","item":"15508770000","tireSize":"235/50R18","sizeStripped":"2355018","tireType":"Passenger","isWinterTire":false,"disc":3,"sale":223,"reg":231,"save":8,"stock":4},{"manufacturer":"CONTINENTAL","logo":"https://1000logos.net/wp-content/uploads/2022/11/Continental-Logo.png","model":"PureContact LS","item":"15509360000","tireSize":"195/55R16","sizeStripped":"1955516","tireType":"Passenger","isWinterTire":false,"disc":3,"sale":148,"reg":153,"save":5,"stock":8},{"manufacturer":"CONTINENTAL","logo":"https://1000logos.net/wp-content/uploads/2022/11/Continental-Logo.png","model":"PureContact LS","item":"15571180000","tireSize":"215/55R16","sizeStripped":"2155516","tireType":"Passenger","isWinterTire":false,"disc":3,"sale":162,"reg":168,"save":6,"stock":18},{"manufacturer":"CONTINENTAL","logo":"https://1000logos.net/wp-content/uploads/2022/11/Continental-Logo.png","model":"PureContact LS","item":"15508370000","tireSize":"235/45R17","sizeStripped":"2354517","tireType":"Passenger","isWinterTire":false,"disc":3,"sale":189,"reg":196,"save":7,"stock":7},{"manufacturer":"CONTINENTAL","logo":"https://1000logos.net/wp-content/uploads/2022/11/Continental-Logo.png","model":"CrossContact ATR","item":"03594630000","tireSize":"225/65R17","sizeStripped":"2256517","tireType":"Passenger","isWinterTire":false,"disc":3,"sale":224,"reg":232,"save":8,"stock":7},{"manufacturer":"GENERAL","logo":"https://upload.wikimedia.org/wikipedia/en/thumb/e/ea/General_Tire_logo.svg/1280px-General_Tire_logo.svg.png","model":"Grabber HTS60","item":"04505170000","tireSize":"LT265/70R17","sizeStripped":"2657017","tireType":"Light Truck","isWinterTire":false,"disc":2,"sale":256,"reg":262,"save":6,"stock":4},{"manufacturer":"GENERAL","logo":"https://upload.wikimedia.org/wikipedia/en/thumb/e/ea/General_Tire_logo.svg/1280px-General_Tire_logo.svg.png","model":"GRABBER ARCTIC","item":"15502560000","tireSize":"255/55R18","sizeStripped":"2555518","tireType":"Passenger - Winter","isWinterTire":true,"disc":2,"sale":213,"reg":217,"save":4,"stock":4},{"manufacturer":"GENERAL","logo":"https://upload.wikimedia.org/wikipedia/en/thumb/e/ea/General_Tire_logo.svg/1280px-General_Tire_logo.svg.png","model":"Grabber A/TX","item":"04505590000","tireSize":"31X10.50R15LT","sizeStripped":"31105015","tireType":"ALL WEATHER LT","isWinterTire":false,"disc":2,"sale":237,"reg":242,"save":5,"stock":4},{"manufacturer":"GENERAL","logo":"https://upload.wikimedia.org/wikipedia/en/thumb/e/ea/General_Tire_logo.svg/1280px-General_Tire_logo.svg.png","model":"Grabber A/TX","item":"04507150000","tireSize":"35X12.50R17LT","sizeStripped":"35125017","tireType":"ALL WEATHER LT","isWinterTire":false,"disc":2,"sale":386,"reg":394,"save":8,"stock":2},{"manufacturer":"GENERAL","logo":"https://upload.wikimedia.org/wikipedia/en/thumb/e/ea/General_Tire_logo.svg/1280px-General_Tire_logo.svg.png","model":"Grabber APT","item":"04508100000","tireSize":"275/55R20","sizeStripped":"2755520","tireType":"ALL WEATHER PASSENGER","isWinterTire":false,"disc":2,"sale":313,"reg":320,"save":7,"stock":8},{"manufacturer":"GENERAL","logo":"https://upload.wikimedia.org/wikipedia/en/thumb/e/ea/General_Tire_logo.svg/1280px-General_Tire_logo.svg.png","model":"Grabber HTS","item":"04503240000","tireSize":"LT265/60R20","sizeStripped":"2656020","tireType":"Light Truck","isWinterTire":false,"disc":2,"sale":353,"reg":361,"save":8,"stock":12},{"manufacturer":"GENERAL","logo":"https://upload.wikimedia.org/wikipedia/en/thumb/e/ea/General_Tire_logo.svg/1280px-General_Tire_logo.svg.png","model":"Grabber APT","item":"04508020000","tireSize":"265/65R17","sizeStripped":"2656517","tireType":"ALL WEATHER PASSENGER","isWinterTire":false,"disc":2,"sale":247,"reg":252,"save":5,"stock":24},{"manufacturer":"GENERAL","logo":"https://upload.wikimedia.org/wikipedia/en/thumb/e/ea/General_Tire_logo.svg/1280px-General_Tire_logo.svg.png","model":"Grabber APT","item":"04507980000","tireSize":"265/70R17","sizeStripped":"2657017","tireType":"ALL WEATHER PASSENGER","isWinterTire":false,"disc":2,"sale":245,"reg":250,"save":5,"stock":10},{"manufacturer":"GENERAL","logo":"https://upload.wikimedia.org/wikipedia/en/thumb/e/ea/General_Tire_logo.svg/1280px-General_Tire_logo.svg.png","model":"AltiMAX RT45","item":"15576180000","tireSize":"205/60R16","sizeStripped":"2056016","tireType":"Passenger","isWinterTire":false,"disc":2,"sale":124,"reg":127,"save":3,"stock":14},{"manufacturer":"GENERAL","logo":"https://upload.wikimedia.org/wikipedia/en/thumb/e/ea/General_Tire_logo.svg/1280px-General_Tire_logo.svg.png","model":"Altimax 365AW","item":"15574890000","tireSize":"235/45R17","sizeStripped":"2354517","tireType":"ALL WEATHER PASSENGER","isWinterTire":false,"disc":2,"sale":192,"reg":197,"save":5,"stock":19},{"manufacturer":"CONTINENTAL","logo":"https://1000logos.net/wp-content/uploads/2022/11/Continental-Logo.png","model":"PureContact LS","item":"15571170000","tireSize":"195/65R15","sizeStripped":"1956515","tireType":"Passenger","isWinterTire":false,"disc":1,"sale":131,"reg":133,"save":2,"stock":19},{"manufacturer":"BOTO","logo":"https://be.fitandfix.com/media/brands/1681305666170.png","model":"SPORTSTAR BH19","item":"B560422","tireSize":"305/45R22","sizeStripped":"3054522","tireType":"Performance","isWinterTire":false,"disc":0,"sale":169,"reg":169,"save":0,"stock":1},{"manufacturer":"BOTO","logo":"https://be.fitandfix.com/media/brands/1681305666170.png","model":"BV11+","item":"B608680","tireSize":"285/60R18","sizeStripped":"2856018","tireType":"Passenger","isWinterTire":false,"disc":0,"sale":167,"reg":167,"save":0,"stock":53},{"manufacturer":"BOTO","logo":"https://be.fitandfix.com/media/brands/1681305666170.png","model":"SASQUA H/T","item":"B586675","tireSize":"265/65R17","sizeStripped":"2656517","tireType":"Passenger","isWinterTire":false,"disc":0,"sale":145,"reg":145,"save":0,"stock":53},{"manufacturer":"BOTO","logo":"https://be.fitandfix.com/media/brands/1681305666170.png","model":"SPORTSTAR BH19","item":"B560425","tireSize":"305/40R22","sizeStripped":"3054022","tireType":"Performance","isWinterTire":false,"disc":0,"sale":166,"reg":166,"save":0,"stock":10},{"manufacturer":"BOTO","logo":"https://be.fitandfix.com/media/brands/1681305666170.png","model":"SPORTSTAR BH19","item":"B564322","tireSize":"245/30ZR22","sizeStripped":"2453022","tireType":"Performance","isWinterTire":false,"disc":0,"sale":117,"reg":117,"save":0,"stock":22},{"manufacturer":"Yokohama","logo":"https://cdn.worldvectorlogo.com/logos/yokohama-logo.svg","model":"ADVAN SPORT A/S+","item":"110140669","tireSize":"275/35R20","sizeStripped":"2753520","tireType":"Passenger","isWinterTire":false,"disc":-1,"sale":300,"reg":295,"save":-5,"stock":4}];
    var quoteItems = [];

    function renderCard(item) {
      var badgeType = item.disc >= 99 ? 'free' : item.disc >= 40 ? 'huge' : item.disc >= 30 ? 'great' : item.disc >= 20 ? 'good' : 'sale';
      var priceHtml = item.disc >= 99 
        ? '<span class="free-price">FREE</span><span class="orig-price">$' + item.reg + '</span>' 
        : '<span class="sale-price">$' + item.sale + '</span><span class="orig-price">$' + item.reg + '</span>';
      var stockClass = item.stock <= 5 ? 'low' : item.stock <= 15 ? 'medium' : item.stock <= 50 ? 'good' : 'excellent';
      
      var details = 'Item: ' + item.item;
      if (item.tireSize) details += ' • Size: ' + item.tireSize;
      if (item.tireType) details += ' • ' + item.tireType;
      
      return '<div class="card" data-manufacturer="' + escapeHtml(item.manufacturer) + '">' +
        '<div class="badge badge-' + badgeType + '">' + item.disc + '% OFF</div>' +
        '<div class="content">' + 
        (item.logo ? '<img src="' + escapeHtml(item.logo) + '" class="logo" alt="' + escapeHtml(item.manufacturer) + '">' : '') +
        '<div class="title">' + escapeHtml(item.model) + '</div>' +
        '<div class="details">' + escapeHtml(details) + '</div>' +
        '<div class="pricing">' + priceHtml + '</div>' +
        '<div class="save">Save $' + item.save + '</div>' +
        '<div class="stock stock-' + stockClass + '">Qty: ' + item.stock + '</div>' +
        '<button class="btn-add-quote" onclick="addToQuote(\'' + escapeHtml(item.item) + '\')">Add to Quote</button>' +
        '</div></div>';
    }

    function escapeHtml(text) {
      var div = document.createElement('div');
      div.textContent = text;
      return div.innerHTML;
    }

    function render() {
      console.log('🔄 Render function called');
      console.log('📊 Total items available:', items.length);
      
      // Get filter values
      var searchBar = document.getElementById('search-bar');
      var manufacturerSelect = document.getElementById('filter-manufacturer');
      
      if (!searchBar || !manufacturerSelect) {
        console.error('❌ Filter elements not found!');
        return;
      }
      
      var searchTerm = searchBar.value.toLowerCase();
      var mf = manufacturerSelect.value;
      
      console.log('🔍 Search term:', searchTerm);
      console.log('🏭 Manufacturer filter:', mf);
      
      var filtered = items.filter(function(i) {
        var searchableText = [
          i.manufacturer,
          i.model,
          i.item,
          i.tireSize || '',
          i.sizeStripped || '',
          i.tireType || '',
          i.isWinterTire ? 'winter' : ''
        ].join(' ').toLowerCase();
        
        var matchesSearch = !searchTerm || searchableText.indexOf(searchTerm) !== -1;
        var matchesManufacturer = !mf || i.manufacturer === mf;
        
        return matchesSearch && matchesManufacturer;
      });
      
      console.log('✅ Filtered items count:', filtered.length);
      
      // Generate cards HTML
      var cardHTML = filtered.slice(0, 50).map(renderCard).join('');
      console.log('📝 Generated HTML length:', cardHTML.length);
      console.log('🎯 First card preview:', cardHTML.substring(0, 200) + '...');
      
      // Insert into DOM
      var container = document.getElementById('card-container');
      if (!container) {
        console.error('❌ Card container not found!');
        return;
      }
      
      container.innerHTML = cardHTML;
      console.log('✅ Cards inserted into DOM');
      
      updateFilteredStats(filtered);
    }

    function updateFilteredStats(filtered) {
      var totalDeals = document.querySelector('.stats .num');
      if (totalDeals && filtered.length !== items.length) {
        totalDeals.textContent = filtered.length;
        totalDeals.parentElement.querySelector('.label').textContent = 'Filtered Deals';
      } else if (totalDeals) {
        totalDeals.textContent = items.length;
        totalDeals.parentElement.querySelector('.label').textContent = 'Deals';
      }
    }

    function addToQuote(itemCode) {
      var item = items.find(function(i) { return i.item === itemCode; });
      if (!item) return;
      var existingIndex = quoteItems.findIndex(function(q) { return q.item === item.item; });
      if (existingIndex >= 0) {
        quoteItems[existingIndex].quantity += 1;
      } else {
        var newItem = Object.assign({}, item);
        newItem.quantity = 1;
        quoteItems.push(newItem);
      }
      updateQuoteCounter();
      showNotification('✓ Added to quote!');
    }

    function removeFromQuote(itemCode) {
      quoteItems = quoteItems.filter(function(item) { return item.item !== itemCode; });
      updateQuoteCounter();
      updateQuoteModal();
    }

    function updateQuantity(itemCode, newQuantity) {
      var qty = parseInt(newQuantity);
      var itemIndex = quoteItems.findIndex(function(item) { return item.item === itemCode; });
      if (itemIndex === -1) return;
      if (qty <= 0) {
        removeFromQuote(itemCode);
      } else {
        var maxQty = quoteItems[itemIndex].stock;
        quoteItems[itemIndex].quantity = Math.min(Math.max(qty, 1), maxQty);
        updateQuoteModal();
      }
    }

    function updateQuoteCounter() {
      var counter = document.getElementById('quote-counter');
      var count = document.getElementById('quote-count');
      if (quoteItems.length > 0) {
        counter.style.display = 'block';
        counter.classList.add('pulse');
        setTimeout(function() { counter.classList.remove('pulse'); }, 600);
        count.textContent = quoteItems.length;
      } else {
        counter.style.display = 'none';
      }
    }

  function updateQuoteModal() {
    var container = document.getElementById('quote-items');
    if (quoteItems.length === 0) {
      container.innerHTML = '<p>No items in quote yet.</p>';
      return;
    }
    var html = '<h3>Items:</h3>';
    quoteItems.forEach(function(item) {
      html += '<div class="quote-item">' +
        '<div class="quote-item-info">' +
        '<strong>' + escapeHtml(item.manufacturer) + ' ' + escapeHtml(item.model) + '</strong><br>' +
        'Item: ' + escapeHtml(item.item) + ' • $' + item.sale + ' each' +
        '</div>' +
        '<div class="quote-item-controls">' +
        '<div class="quantity-controls">' +
        '<button class="qty-btn" onclick="updateQuantity('' + escapeHtml(item.item) + '', ' + (item.quantity - 1) + ')">−</button>' +
        '<input type="number" class="qty-input" min="1" max="' + item.stock + '" value="' + item.quantity + '" onchange="updateQuantity('' + escapeHtml(item.item) + '', this.value)">' +
        '<button class="qty-btn" onclick="updateQuantity('' + escapeHtml(item.item) + '', ' + (item.quantity + 1) + ')">+</button>' +
        '<span class="qty-stock">/ ' + item.stock + '</span>' +
        '</div>' +
        '<button class="remove-item" onclick="removeFromQuote('' + escapeHtml(item.item) + '')">×</button>' +
        '</div>' +
        '</div>';
    });
    container.innerHTML = html;
  }

    function showNotification(message) {
      var notification = document.createElement('div');
      notification.className = 'notification';
      notification.textContent = message;
      document.body.appendChild(notification);
      
      setTimeout(function() { notification.style.transform = 'translateX(0)'; }, 100);
      setTimeout(function() {
        notification.style.transform = 'translateX(400px)';
        setTimeout(function() { document.body.removeChild(notification); }, 400);
      }, 3000);
    }

    function showSuccessNotification(message) {
      var notification = document.createElement('div');
      notification.className = 'notification success-notification';
      notification.innerHTML = '<div style="position:relative;z-index:1">' + message + '</div>';
      document.body.appendChild(notification);
      
      setTimeout(function() { notification.style.transform = 'translateX(0)'; }, 100);
      setTimeout(function() {
        notification.style.transform = 'translateX(400px)';
        setTimeout(function() { document.body.removeChild(notification); }, 500);
      }, 4000);
    }

    function submitQuote() {
      var name = document.getElementById('customer-name').value;
      var email = document.getElementById('customer-email').value;
      var phone = document.getElementById('customer-phone').value;
      var company = document.getElementById('customer-company').value;
      var notes = document.getElementById('customer-notes').value;
      
      if (!name || !email) {
        showNotification('❌ Please fill in your name and email');
        if (!name) document.getElementById('customer-name').focus();
        else if (!email) document.getElementById('customer-email').focus();
        return;
      }

      var emailRegex = /^[^s@]+@[^s@]+.[^s@]+$/;
      if (!emailRegex.test(email)) {
        showNotification('❌ Please enter a valid email address');
        document.getElementById('customer-email').focus();
        return;
      }
      
      var submitBtn = document.querySelector('.submit-quote');
      submitBtn.innerHTML = 'Sending Quote...';
      submitBtn.disabled = true;
      
      var tireDetails = quoteItems.map(function(item, index) {
        return (index + 1) + '. ' + item.manufacturer + ' ' + item.model + ' (Item: ' + item.item + ') - Qty: ' + item.quantity + ' @ $' + item.sale + ' each';
      }).join('\n');
      
      var totalValue = quoteItems.reduce(function(sum, item) {
        return sum + (item.sale * item.quantity);
      }, 0);
      
      var formData = new FormData();
      formData.append('name', name);
      formData.append('email', email);
      formData.append('phone', phone || 'Not provided');
      formData.append('company', company || 'Not provided');
      formData.append('notes', notes || 'No additional notes');
      formData.append('tire_items', tireDetails);
      formData.append('total_items', quoteItems.length);
      formData.append('estimated_total', '$' + totalValue.toFixed(2));
      formData.append('_subject', 'Tire Quote Request - ' + name);
      formData.append('_replyto', email);
      
      fetch('https://formspree.io/f/xdkgqyzr', {
        method: 'POST',
        body: formData,
        headers: {'Accept': 'application/json'}
      })
      .then(function(response) {
        if (response.ok) {
          submitBtn.innerHTML = '🎉 Quote Sent Successfully!';
          submitBtn.style.background = 'linear-gradient(135deg, #27ae60, #2ecc71)';
          showSuccessNotification('🎉 Quote sent successfully! We will contact you soon with pricing and availability.');
          if (typeof confetti !== 'undefined') {
            confetti({ particleCount: 140, spread: 70, origin: { y: 0.6 }, zIndex: 4000 });
          }
          setTimeout(function() {
            quoteItems = [];
            updateQuoteCounter();
            closeQuoteModal();
            submitBtn.innerHTML = 'Request Quote';
            submitBtn.style.background = '';
            submitBtn.disabled = false;
            document.getElementById('customer-name').value = '';
            document.getElementById('customer-email').value = '';
            document.getElementById('customer-phone').value = '';
            document.getElementById('customer-company').value = '';
            document.getElementById('customer-notes').value = '';
          }, 3000);
        } else {
          throw new Error('Form submission failed');
        }
      })
      .catch(function(error) {
        console.log('Form submission error:', error);
        submitBtn.innerHTML = 'Try Again';
        submitBtn.style.background = '#e74c3c';
        submitBtn.disabled = false;
        showNotification('❌ Please try again or call (204) 985-4040');
        setTimeout(function() {
          submitBtn.innerHTML = 'Request Quote';
          submitBtn.style.background = '';
        }, 3000);
      });
    }

    // Wait for DOM to be ready, then initialize
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', function() {
        console.log('🚀 DOM loaded, initializing...');
        initializeApp();
      });
    } else {
      console.log('🚀 DOM already ready, initializing...');
      initializeApp();
    }
        function openQuoteModal(){
      updateQuoteModal();
      document.getElementById('quote-modal').style.display='block';
      document.body.classList.add('modal-open');        // NEW
    }

    function closeQuoteModal(){
      document.getElementById('quote-modal').style.display='none';
      document.body.classList.remove('modal-open');     // NEW
    }
    
    function initializeApp() {
      console.log('📊 Initializing with', items.length, 'items');
      
      // Add event listeners
      var searchBar = document.getElementById('search-bar');
      var manufacturerSelect = document.getElementById('filter-manufacturer');
      
      if (searchBar && manufacturerSelect) {
        searchBar.addEventListener('input', render);
        manufacturerSelect.addEventListener('change', render);
        console.log('✅ Event listeners added');
      } else {
        console.error('❌ Could not find filter elements for event listeners');
      }
      
      // Modal click handler
      window.addEventListener('click', function(event) {
        var modal = document.getElementById('quote-modal');
        if (event.target === modal) {
          closeQuoteModal();
        }
      });
      
      // Initial render
      render();
    }
  </script>
</body>
</html>